{"version":3,"sources":["extensions/default/Git/src/EventEmitter.js"],"names":["define","require","exports","module","EventDispatcher","brackets","getModule","Metrics","emInstance","getEmitter","eventName","optionalMetricToLog","Error","emit","arguments","countEvent","EVENT_TYPE","GIT","trigger","on","callback","args","rest","one","makeEventDispatcher"],"mappings":"AAAAA,OAAO,SAAUC,QAASC,QAASC,QAC/B,MAAMC,gBAAkBC,SAASC,UAAU,yBACvCC,QAAUF,SAASC,UAAU,iBAE3BE,WAAa,GAGnB,SAASC,WAAWC,UAAWC,qBAC3B,IAAKD,UACD,MAAM,IAAIE,MAAM,gDAEpB,OAAO,WACHC,KAAKH,aAAcI,WAChBH,qBACCJ,QAAQQ,WAAWR,QAAQS,WAAWC,IAAKN,oBAAoB,GAAIA,oBAAoB,KAKnG,SAASE,OACLL,WAAWU,WAAWJ,WAG1B,SAASK,GAAGT,UAAWU,UACnBZ,WAAWW,GAAGT,UAAW,IAAIW,QAEzB,MAAO,IAAKC,MAAQD,KACpBD,YAAYE,QAIpB,SAASC,IAAIb,UAAWU,UACpBZ,WAAWe,IAAIb,UAAW,IAAIW,QAE1B,MAAO,IAAKC,MAAQD,KACpBD,YAAYE,QA9BpBlB,gBAAgBoB,oBAAoBhB,YAkCpCN,QAAQO,WAAaA,WACrBP,QAAQW,KAAOA,KACfX,QAAQiB,GAAKA,GACbjB,QAAQqB,IAAMA","sourcesContent":["define(function (require, exports, module) {\n    const EventDispatcher = brackets.getModule(\"utils/EventDispatcher\"),\n        Metrics = brackets.getModule(\"utils/Metrics\");\n\n    const emInstance = {};\n    EventDispatcher.makeEventDispatcher(emInstance);\n\n    function getEmitter(eventName, optionalMetricToLog) {\n        if (!eventName) {\n            throw new Error(\"no event has been passed to get the emittor!\");\n        }\n        return function () {\n            emit(eventName, ...arguments);\n            if(optionalMetricToLog) {\n                Metrics.countEvent(Metrics.EVENT_TYPE.GIT, optionalMetricToLog[0], optionalMetricToLog[1]);\n            }\n        };\n    }\n\n    function emit() {\n        emInstance.trigger(...arguments);\n    }\n\n    function on(eventName, callback) {\n        emInstance.on(eventName, (...args)=>{\n            // Extract everything except the first argument (_event) which is event data we don't use\n            const [, ...rest] = args;\n            callback(...rest);\n        });\n    }\n\n    function one(eventName, callback) {\n        emInstance.one(eventName, (...args)=>{\n            // Extract everything except the first argument (_event) which is event data we don't use\n            const [, ...rest] = args;\n            callback(...rest);\n        });\n    }\n\n    exports.getEmitter = getEmitter;\n    exports.emit = emit;\n    exports.on = on;\n    exports.one = one;\n});\n"],"file":"EventEmitter.js"}