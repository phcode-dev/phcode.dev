{"version":3,"sources":["widgets/NotificationUI.js"],"names":["define","require","exports","module","WorkspaceManager","Mustache","ToastPopupHtml","Dialogs","MainViewManager","NOTIFICATION_TYPE_ARROW","NOTIFICATION_TYPE_TOAST","NOTIFICATION_STYLES_CSS_CLASS","INFO","WARNING","SUCCESS","ERROR","DANGER","CLOSE_REASON","TIMEOUT","CLICK_DISMISS","CLOSE_BTN_CLICK","Notification","$notification","type","this","_result","$","Deferred","_promise","promise","_closeToastNotification","$NotificationPopup","endCB","cleanup","removeClass","remove","addClass","one","_closeArrowNotification","off","EVENT_WORKSPACE_UPDATE_LAYOUT","update","createFromTemplate","title","template","elementID","options","allowedPlacements","dismissOnClick","undefined","$tooltip","_createDomElementWithArrowElement","notification","autoCloseTimeS","setTimeout","close","click","find","prototype","closeType","self","doneCB","resolve","done","callback","notificationWidgetCount","_computePlacementWithArrowElement","tooltip","arrowElement","x","y","placement","middlewareData","Object","assign","style","left","top","arrowX","arrowY","arrow","staticSide","right","bottom","split","[object Object]","_updatePositions","onElement","middleWare","FloatingUIDOM","offset","autoPlacement","shift","padding","push","element","computePosition","middleware","then","on","domTemplate","document","getElementById","widgetID","arrowID","textTemplate","String","styleClass","toastStyle","$floatingDom","append","createToastFromTemplate","render","id","containerStyle","addLinkTooltips","appendTo","hide","focusActivePane","show"],"mappings":"AA+DAA,OAAO,SAAUC,QAASC,QAASC,QAG/B,MAAMC,iBAAoBH,QAAQ,yBAC9BI,SAAWJ,QAAQ,gCACnBK,eAAkBL,QAAQ,sCAC1BM,QAAUN,QAAQ,mBAClBO,gBAAkBP,QAAQ,wBAExBQ,wBAA0B,QAC5BC,wBAA0B,QAOxBC,8BAAgC,CAClCC,KAAM,aACNC,QAAS,gBACTC,QAAS,gBACTC,MAAO,cACPC,OAAQ,gBAQNC,aAAc,CAChBC,QAAS,eACTC,cAAe,eACfC,gBAAiB,iBAkBrB,SAASC,aAAaC,cAAeC,MACjCC,KAAKF,cAAmBA,cACxBE,KAAKD,KAAOA,KACZC,KAAKC,QAAW,IAAIC,EAAEC,SACtBH,KAAKI,SAAWJ,KAAKC,QAAQI,UAGjC,SAASC,wBAAwBC,mBAAoBC,OAEjD,SAASC,UACLF,mBAAmBG,YAAY,gBAC/BH,mBAAmBI,SACnBH,OAASA,QAEbD,mBAAmBG,YAAY,eAC/BH,mBACKK,SAAS,gBACTC,IAAI,gBAAiBJ,SACrBI,IAAI,mBAAoBJ,SAGjC,SAASK,wBAAwBP,mBAAoBC,OACjD,SAASC,UAELF,mBAAmBI,SACnB/B,iBAAiBmC,IAAInC,iBAAiBoC,8BAA+BT,mBAAmB,GAAGU,QAC3FT,OAASA,QAEbD,mBAAmBG,YAAY,2BAC1BE,SAAS,0BACTC,IAAI,gBAAiBJ,SACrBI,IAAI,mBAAoBJ,SAsEjC,SAASS,mBAAmBC,MAAOC,SAAUC,UAAWC,QAAS,IAE7DA,QAAQC,kBAAoBD,QAAQC,mBAAqB,CAAC,MAAO,SAAU,OAAQ,SACnFD,QAAQE,oBAA4CC,IAA3BH,QAAQE,gBAAsCF,QAAQE,eAC3EH,YACAA,UAAY,+BAEhB,MAAMK,SAAWC,kCAAkCR,MAAOC,SAAUC,UAAWC,SAC/EI,SAASd,SAAS,2BAClB,IAAIgB,aAAe,IAAK/B,aAAa6B,SAAUzC,yBAgB/C,OAdGqC,QAAQO,gBACPC,WAAW,KACPF,aAAaG,MAAMtC,aAAaC,UACR,IAAzB4B,QAAQO,gBAGZP,QAAQE,gBACPE,SAASM,MAAM,KACXJ,aAAaG,MAAMtC,aAAaE,iBAGxC+B,SAASO,KAAK,oCAAoCD,MAAM,KACpDJ,aAAaG,MAAMtC,aAAaE,iBAE7BiC,aAtFX/B,aAAaqC,UAAUH,MAAQ,SAAUI,WACrC,IAAIC,KAAOpC,KACPF,cAAgBE,KAAKF,cACzB,IAAIA,cACA,OAAOE,KAGX,SAASqC,SACLD,KAAKnC,QAAQqC,QAAQH,WAKzB,OAPAnC,KAAKF,cAAgB,KAIrBE,KAAKD,OAASb,wBACVoB,wBAAwBR,cAAeuC,QACvCvB,wBAAwBhB,cAAeuC,QACpCrC,MAaXH,aAAaqC,UAAUK,KAAO,SAAUC,UACpCxC,KAAKI,SAASmC,KAAKC,WA8DvB,IAAIC,wBAA0B,EAE9B,SAASC,kCAAkCC,QAASC,cAAcC,EAACA,EAACC,EAAEA,EAACC,UAAEA,UAASC,eAAEA,iBAKhF,GAJAC,OAAOC,OAAOP,QAAQQ,MAAO,CACzBC,QAASP,MACTQ,OAAQP,QAETF,aAAa,CACZ,MAAOC,EAAGS,OAAQR,EAAGS,QAAUP,eAAeQ,MAExCC,WAAa,CACfJ,IAAK,SACLK,MAAO,OACPC,OAAQ,MACRP,KAAM,SACRL,UAAUa,MAAM,KAAK,IAEvBX,OAAOC,OAAON,aAAaO,MAAO,CAC9BC,KAAgB,MAAVE,UAAoBA,WAAa,GACvCD,IAAe,MAAVE,UAAoBA,WAAa,GACtCG,MAAO,GACPC,OAAQ,GACRE,CAACJ,YAAa,UAK1B,SAASK,iBAAiBnB,QAASoB,UAAWnB,aAActB,SACxD,IAAI0C,WAAa,CACbC,cAAcC,OAAO,GACrBD,cAAcE,cAAc,CAExB5C,kBAAmBD,QAAQC,oBAE/B0C,cAAcG,MAAM,CAACC,QAAS,KAE/BzB,cACCoB,WAAWM,KAAKL,cAAcT,MAAM,CAACe,QAAS3B,gBAElDD,QAAQ1B,OAAS,WACbgD,cAAcO,gBAAgBT,UAAWpB,QAAS,CAC9CI,UAAW,MACX0B,WAAYT,aACbU,KAAK,EAAE7B,EAAAA,EAAGC,EAAAA,EAAGC,UAAAA,UAAWC,eAAAA,mBACvBN,kCAAkCC,QAASC,aACvC,CAACC,EAAAA,EAAGC,EAAAA,EAAGC,UAAAA,UAAWC,eAAAA,oBAG9BL,QAAQ1B,SACRrC,iBAAiB+F,GAAG/F,iBAAiBoC,8BAA+B2B,QAAQ1B,QAGhF,SAASU,kCAAkCR,MAAOyD,YAAavD,UAAWC,SACtEmB,0BACA,MAAMsB,UAAYc,SAASC,eAAezD,WAC1C,IAAIuB,aACAmC,mCAAqCtC,0BACrCuC,iCAAmCvC,0BACnCwC,aAAe,MACQ,iBAAhBL,aAA4BA,uBAAuBM,UAC1DD,aAAeL,aAEnB,MAAMO,WAAahG,8BAA8BmC,QAAQ8D,aAClD9D,QAAQ8D,WACf,IAAIC,aAAenF,cAAc6E,4CAA4CI,oMAKlChE,gGAGE8D,cAAc,gCAY3D,OAVIA,cAAgBL,aAChBS,aAAapD,KAAK,gCAAgCqD,OAAOpF,EAAE0E,cAE5Db,YACCnB,aAAe1C,cAAc8E,yCACzB7F,8BAA8BmC,QAAQ8D,aAAe,cACzDC,aAAaC,OAAO1C,eAExB1C,EAAE,QAAQoF,OAAOD,cACjBvB,iBAAiBuB,aAAa,GAAItB,UAAWnB,aAAa,GAAItB,SACvD+D,aA6BX,SAASE,wBAAwBpE,MAAOC,SAAUE,QAAU,IACxDA,QAAQE,oBAA4CC,IAA3BH,QAAQE,gBAAsCF,QAAQE,eAC/EiB,0BACA,MAAM0C,WAAahG,8BAA8BmC,QAAQ8D,aAClD9D,QAAQ8D,YAAcjG,8BAA8BC,KACrD2F,+BAAiCtC,0BACnClC,mBAAqBL,EAAErB,SAAS2G,OAAO1G,eAAgB,CAAC2G,GAAIV,SAAU5D,MAAOA,MACzEuE,eAAgBP,cACxB5E,mBAAmB0B,KAAK,gCACnBqD,OAAOpF,EAAEkB,WAEdrC,QAAQ4G,gBAAgBpF,oBACxB,IAAIqB,aAAe,IAAK/B,aAAaU,mBAAoBrB,yBA0BzD,OAxBAqB,mBAAmBqF,SAAS,iCAAiCC,OACxD5D,KAAK,oCAAoCD,MAAM,WAC5CJ,aAAaG,MAAMtC,aAAaG,iBAChCZ,gBAAgB8G,oBAExBvF,mBAAmBwF,OAInBjE,WAAW,WACPvB,mBAAmBK,SAAS,gBAC7B,GAEAU,QAAQO,gBACPC,WAAW,KACPF,aAAaG,MAAMtC,aAAaC,UACR,IAAzB4B,QAAQO,gBAGZP,QAAQE,gBACPjB,mBAAmByB,MAAM,KACrBJ,aAAaG,MAAMtC,aAAaE,iBAGjCiC,aAGXlD,QAAQwC,mBAAqBA,mBAC7BxC,QAAQ6G,wBAA0BA,wBAClC7G,QAAQe,aAAeA,aACvBf,QAAQS,8BAAgCA","sourcesContent":["/*\n * GNU AGPL-3.0 License\n *\n * Copyright (c) 2021 - present core.ai . All rights reserved.\n *\n * This program is free software: you can redistribute it and/or modify it\n * under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License\n * for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see https://opensource.org/licenses/AGPL-3.0.\n *\n */\n\n/*global FloatingUIDOM*/\n// @INCLUDE_IN_API_DOCS\n\n/**\n * The global NotificationUI can be used to create popup notifications over dom elements or generics app notifications.\n *\n * A global `window.EventManager` object is made available in phoenix that can be called anytime after AppStart.\n * This global can be triggered from anywhere without using require context.\n *\n * ## Usage\n * ### Simple example\n * For Eg. Let's say we have to create a popup notification over the HTML element with ID `showInfileTree`.\n * We can do this with the following\n * @example\n * ```js\n * const NotificationUI = brackets.getModule(\"widgets/NotificationUI\");\n * // or use window.NotificationUI global object has the same effect.\n * let notification = NotificationUI.createFromTemplate(\"Click me to locate the file in file tree\", \"showInfileTree\",{});\n * notification.done(()=>{\n *     console.log(\"notification is closed in ui.\");\n * })\n * ```\n * ### Advanced example\n * Another advanced example where you can specify html and interactive components in the notification\n * @example\n * ```js\n * // note that you can even provide an HTML Element node with\n * // custom event handlers directly here instead of HTML text.\n * let notification1 = NotificationUI.createFromTemplate(\n *   \"<div>Click me to locate the file in file tree</div>\", \"showInfileTree\",{\n *       allowedPlacements: ['top', 'bottom'],\n *       dismissOnClick: false,\n *       autoCloseTimeS: 300 // auto close the popup after 5 minutes\n *   });\n * // do stuff\n * notification1.done((closeReason)=>{\n *     console.log(\"notification is closed in ui reason:\", closeReason);\n * })\n * ```\n * The `createFromTemplate` API can be configured with numerous options. See API options below.\n * @module widgets/NotificationUI\n */\n\ndefine(function (require, exports, module) {\n\n\n    const WorkspaceManager  = require(\"view/WorkspaceManager\"),\n        Mustache = require(\"thirdparty/mustache/mustache\"),\n        ToastPopupHtml  = require(\"text!widgets/html/toast-popup.html\"),\n        Dialogs = require(\"widgets/Dialogs\"),\n        MainViewManager = require(\"view/MainViewManager\");\n\n    const NOTIFICATION_TYPE_ARROW = \"arrow\",\n        NOTIFICATION_TYPE_TOAST = \"toast\";\n\n    /**\n     * CSS class names for notification styles.\n     * @enum {string}\n     * @const\n     */\n    const NOTIFICATION_STYLES_CSS_CLASS = {\n        INFO: \"style-info\",\n        WARNING: \"style-warning\",\n        SUCCESS: \"style-success\",\n        ERROR: \"style-error\",\n        DANGER: \"style-danger\"\n    };\n\n    /**\n     * Closing notification reason.\n     * @enum {string}\n     * @const\n     */\n    const CLOSE_REASON ={\n        TIMEOUT: 'closeTimeout',\n        CLICK_DISMISS: 'clickDismiss',\n        CLOSE_BTN_CLICK: 'closeBtnClick'\n    };\n\n    /**\n     * This section outlines the properties and methods available in this module\n     * @name API\n     */\n\n    /**\n     * This is an instance of the notification returned by the `createFromTemplate` call. The object can be used to\n     * control the created notification. See Notification docs below.\n     * @type {Object}\n     */\n\n    /**\n     * @constructor\n     * @private\n     */\n    function Notification($notification, type) {\n        this.$notification    = $notification;\n        this.type = type;\n        this._result  = new $.Deferred();\n        this._promise = this._result.promise();\n    }\n\n    function _closeToastNotification($NotificationPopup, endCB) {\n        // Animate out\n        function cleanup() {\n            $NotificationPopup.removeClass(\"animateClose\");\n            $NotificationPopup.remove();\n            endCB && endCB();\n        }\n        $NotificationPopup.removeClass(\"animateOpen\");\n        $NotificationPopup\n            .addClass(\"animateClose\")\n            .one(\"transitionend\", cleanup)\n            .one(\"transitioncancel\", cleanup);\n    }\n\n    function _closeArrowNotification($NotificationPopup, endCB) {\n        function cleanup() {\n            // wait for the animation to complete before removal\n            $NotificationPopup.remove();\n            WorkspaceManager.off(WorkspaceManager.EVENT_WORKSPACE_UPDATE_LAYOUT, $NotificationPopup[0].update);\n            endCB && endCB();\n        }\n        $NotificationPopup.removeClass('notification-ui-visible')\n            .addClass('notification-ui-hidden')\n            .one(\"transitionend\", cleanup)\n            .one(\"transitioncancel\", cleanup);\n    }\n\n    /**\n     * Closes the Notification if is visible and destroys then dom nodes\n     * @param {string} closeType - an optional reason as to why the notification is closed.\n     * @type {function}\n     * @name Notification.close\n     */\n    Notification.prototype.close = function (closeType) {\n        let self = this,\n            $notification = this.$notification;\n        if(!$notification){\n            return this; // if already closed\n        }\n        this.$notification = null;\n        function doneCB() {\n            self._result.resolve(closeType);\n        }\n        this.type === NOTIFICATION_TYPE_TOAST ?\n            _closeToastNotification($notification, doneCB) :\n            _closeArrowNotification($notification, doneCB);\n        return this;\n    };\n\n    /**\n     * Adds a done callback to the Notification promise. The promise will be resolved\n     * when the Notification is dismissed. Never rejected.\n     * Print the close reason on console when the notification closes\n     * notificationInstance.done((closeReason)=>{\n     *     console.log(closeReason)\n     * })\n     * @type {function}\n     * @name Notification.done\n     */\n    Notification.prototype.done = function (callback) {\n        this._promise.done(callback);\n    };\n\n    /**\n     * Creates a new notification popup from given template.\n     * The template can either be a string or a jQuery object representing a DOM node that is *not* in the current DOM.\n     *\n     * Creating a notification popup\n     * // note that you can even provide an HTML Element node with\n     * // custom event handlers directly here instead of HTML text.\n     * let notification1 = NotificationUI.createFromTemplate(\n     * ```js\n     *   \"<div>Click me to locate the file in file tree</div>\", \"showInfileTree\",{\n     *       allowedPlacements: ['top', 'bottom'],\n     *       dismissOnClick: false,\n     *       autoCloseTimeS: 300 // auto close the popup after 5 minutes\n     *   });\n     * ```\n     *\n     * @param {string} title The title for the notification.\n     * @param {string|Element} template A string template or HTML Element to use as the dialog HTML.\n     * @param {String} [elementID] optional id string if provided will show the notification pointing to the element.\n     *   If no element is specified, it will be managed as a generic notification.\n     * @param {Object} [options] optional, supported\n     *   * options are:\n     *   * `allowedPlacements` - Optional String array with values restricting where the notification will be shown.\n     *       Values can be a mix of `['top', 'bottom', 'left', 'right']`\n     *   * `autoCloseTimeS` - Time in seconds after which the notification should be auto closed. Default is never.\n     *   * `dismissOnClick` - when clicked, the notification is closed. Default is true(dismiss).\n     *   * `toastStyle` - To style the toast notification for error, warning, info etc. Can be\n     *     one of `NotificationUI.NOTIFICATION_STYLES_CSS_CLASS.*` or your own css class name.\n     * @return {Notification} Object with a done handler that resolves when the notification closes.\n     * @type {function}\n     */\n    function createFromTemplate(title, template, elementID, options= {}) {\n        // https://floating-ui.com/docs/tutorial\n        options.allowedPlacements = options.allowedPlacements || ['top', 'bottom', 'left', 'right'];\n        options.dismissOnClick = options.dismissOnClick === undefined ? true : options.dismissOnClick;\n        if(!elementID){\n            elementID = 'notificationUIDefaultAnchor';\n        }\n        const $tooltip = _createDomElementWithArrowElement(title, template, elementID, options);\n        $tooltip.addClass('notification-ui-visible');\n        let notification = (new Notification($tooltip, NOTIFICATION_TYPE_ARROW));\n\n        if(options.autoCloseTimeS){\n            setTimeout(()=>{\n                notification.close(CLOSE_REASON.TIMEOUT);\n            }, options.autoCloseTimeS * 1000);\n        }\n\n        if(options.dismissOnClick){\n            $tooltip.click(()=>{\n                notification.close(CLOSE_REASON.CLICK_DISMISS);\n            });\n        }\n        $tooltip.find(\".notification-popup-close-button\").click(()=>{\n            notification.close(CLOSE_REASON.CLICK_DISMISS);\n        });\n        return notification;\n    }\n\n    let notificationWidgetCount = 0;\n\n    function _computePlacementWithArrowElement(tooltip, arrowElement, {x, y, placement, middlewareData}) {\n        Object.assign(tooltip.style, {\n            left: `${x}px`,\n            top: `${y}px`\n        });\n        if(arrowElement){\n            const {x: arrowX, y: arrowY} = middlewareData.arrow;\n\n            const staticSide = {\n                top: 'bottom',\n                right: 'left',\n                bottom: 'top',\n                left: 'right'\n            }[placement.split('-')[0]];\n\n            Object.assign(arrowElement.style, {\n                left: arrowX != null ? `${arrowX}px` : '',\n                top: arrowY != null ? `${arrowY}px` : '',\n                right: '',\n                bottom: '',\n                [staticSide]: '-4px'\n            });\n        }\n    }\n\n    function _updatePositions(tooltip, onElement, arrowElement, options) {\n        let middleWare=  [\n            FloatingUIDOM.offset(6),\n            FloatingUIDOM.autoPlacement({\n                // 'right' and 'left' won't be chosen\n                allowedPlacements: options.allowedPlacements\n            }),\n            FloatingUIDOM.shift({padding: 5})\n        ];\n        if(arrowElement){\n            middleWare.push(FloatingUIDOM.arrow({element: arrowElement}));\n        }\n        tooltip.update = function () {\n            FloatingUIDOM.computePosition(onElement, tooltip, {\n                placement: 'top',\n                middleware: middleWare\n            }).then(({x, y, placement, middlewareData}) => {\n                _computePlacementWithArrowElement(tooltip, arrowElement,\n                    {x, y, placement, middlewareData});\n            });\n        };\n        tooltip.update();\n        WorkspaceManager.on(WorkspaceManager.EVENT_WORKSPACE_UPDATE_LAYOUT, tooltip.update);\n    }\n\n    function _createDomElementWithArrowElement(title, domTemplate, elementID, options) {\n        notificationWidgetCount++;\n        const onElement = document.getElementById(elementID);\n        let arrowElement;\n        let widgetID = `notification-ui-widget-${notificationWidgetCount}`;\n        let arrowID = `notification-ui-arrow-${notificationWidgetCount}`;\n        let textTemplate = null;\n        if (typeof domTemplate === 'string' || domTemplate instanceof String){\n            textTemplate = domTemplate;\n        }\n        const styleClass = NOTIFICATION_STYLES_CSS_CLASS[options.toastStyle]\n            || options.toastStyle;\n        let $floatingDom = $(`<div id=\"${widgetID}\" class=\"notification-ui-tooltip ${styleClass}\" role=\"tooltip\">\n        <div>\n            <p class='notification-popup-close-button arrow'>Ã—</p>\n        </div>\n        <div >\n            <p class=\"notification-dialog-title\">${title}</p>\n        </div>\n        <div>\n            <p class=\"notification-dialog-content\">${textTemplate||''}</p>\n        </div></div>`);\n        if(!textTemplate && domTemplate){\n            $floatingDom.find(\".notification-dialog-content\").append($(domTemplate));\n        }\n        if(onElement){\n            arrowElement = $(`<div id=\"${arrowID}\" class=\"notification-ui-arrow ${\n                NOTIFICATION_STYLES_CSS_CLASS[options.toastStyle] || ''}\"></div>`);\n            $floatingDom.append(arrowElement);\n        }\n        $(\"body\").append($floatingDom);\n        _updatePositions($floatingDom[0], onElement, arrowElement[0], options);\n        return $floatingDom;\n    }\n\n    /**\n     * Creates a new toast notification popup from given title and html message.\n     * The message can either be a string or a jQuery object representing a DOM node that is *not* in the current DOM.\n     *\n     * Creating a toast notification popup\n     *\n     * ```js\n     * // note that you can even provide an HTML Element node with\n     * // custom event handlers directly here instead of HTML text.\n     * let notification1 = NotificationUI.createToastFromTemplate( \"Title here\",\n     *   \"<div>Click me to locate the file in file tree</div>\", {\n     *       dismissOnClick: false,\n     *       autoCloseTimeS: 300 // auto close the popup after 5 minutes\n     *   });\n     * ```\n     * @param {string} title The title for the notification.\n     * @param {string|Element} template A string template or HTML Element to use as the dialog HTML.\n     * @param {{dismissOnClick, autoCloseTimeS, toastStyle}} [options] optional, supported\n     *   * options are:\n     *   * `autoCloseTimeS` - Time in seconds after which the notification should be auto closed. Default is never.\n     *   * `dismissOnClick` - when clicked, the notification is closed. Default is true(dismiss).\n     *   * `toastStyle` - To style the toast notification for error, warning, info etc. Can be\n     *     one of `NotificationUI.NOTIFICATION_STYLES_CSS_CLASS.*` or your own css class name.\n     * @return {Notification} Object with a done handler that resolves when the notification closes.\n     * @type {function}\n     */\n    function createToastFromTemplate(title, template, options = {}) {\n        options.dismissOnClick = options.dismissOnClick === undefined ? true : options.dismissOnClick;\n        notificationWidgetCount++;\n        const styleClass = NOTIFICATION_STYLES_CSS_CLASS[options.toastStyle]\n            || options.toastStyle || NOTIFICATION_STYLES_CSS_CLASS.INFO;\n        const widgetID = `notification-toast-${notificationWidgetCount}`,\n            $NotificationPopup = $(Mustache.render(ToastPopupHtml, {id: widgetID, title: title,\n                containerStyle: styleClass}));\n        $NotificationPopup.find(\".notification-dialog-content\")\n            .append($(template));\n\n        Dialogs.addLinkTooltips($NotificationPopup);\n        let notification = (new Notification($NotificationPopup, NOTIFICATION_TYPE_TOAST));\n\n        $NotificationPopup.appendTo(\"#toast-notification-container\").hide()\n            .find(\".notification-popup-close-button\").click(function () {\n                notification.close(CLOSE_REASON.CLOSE_BTN_CLICK);\n                MainViewManager.focusActivePane();\n            });\n        $NotificationPopup.show();\n\n        // Animate in\n        // Must wait a cycle for the \"display: none\" to drop out before CSS transitions will work\n        setTimeout(function () {\n            $NotificationPopup.addClass(\"animateOpen\");\n        }, 0);\n\n        if(options.autoCloseTimeS){\n            setTimeout(()=>{\n                notification.close(CLOSE_REASON.TIMEOUT);\n            }, options.autoCloseTimeS * 1000);\n        }\n\n        if(options.dismissOnClick){\n            $NotificationPopup.click(()=>{\n                notification.close(CLOSE_REASON.CLICK_DISMISS);\n            });\n        }\n        return notification;\n    }\n\n    exports.createFromTemplate = createFromTemplate;\n    exports.createToastFromTemplate = createToastFromTemplate;\n    exports.CLOSE_REASON = CLOSE_REASON;\n    exports.NOTIFICATION_STYLES_CSS_CLASS = NOTIFICATION_STYLES_CSS_CLASS;\n});\n"],"file":"NotificationUI.js"}