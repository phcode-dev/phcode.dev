define(function(require,exports,module){const AppInit=require("utils/AppInit"),ProjectManager=require("project/ProjectManager"),Strings=require("strings");function handleCollapseBtnClick(){const openNodes=ProjectManager._actionCreator.model.getOpenNodes();if(openNodes&&0!==openNodes.length)for(let i=openNodes.length-1;i>=0;i--)openNodes[i].forEach(function(folderPath){try{ProjectManager._actionCreator.setDirectoryOpen(folderPath,!1)}catch(error){console.error("Failed to close folder:",folderPath,error)}})}function createCollapseButton(){const $projectFilesHeader=$("#project-files-header");if(0===$projectFilesHeader.length)return;const $collapseBtn=$(`\n            <div id="collapse-folders" class="btn-alt-quiet" title="${Strings.COLLAPSE_ALL_FOLDERS}">\n                <i class="fa-solid fa-chevron-down collapse-icon" aria-hidden="true"></i>\n                <i class="fa-solid fa-chevron-up collapse-icon" aria-hidden="true"></i>\n            </div>\n        `);$collapseBtn.on("click",handleCollapseBtnClick),$projectFilesHeader.append($collapseBtn)}AppInit.appReady(function(){createCollapseButton()})});