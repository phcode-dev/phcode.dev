function _setupBroadcastChannel(broadcastChannel,clientID){if(!broadcastChannel)return;const _livePreviewNavigationChannel=new BroadcastChannel(broadcastChannel);function _sendOnlineHeartbeat(){_livePreviewNavigationChannel.postMessage({type:"TAB_ONLINE",clientID:clientID,URL:location.href})}_livePreviewNavigationChannel.onmessage=(event=>{const type=event.data.type;switch(type){case"REDIRECT_CONTENT_FRAME":case"REDIRECT_PAGE":postMessage({type:type,URL:event.data.URL});break;case"TAB_ONLINE":break;default:console.error("Live Preview page loader: received unknown message from Browser preview:",event)}}),_sendOnlineHeartbeat(),setInterval(()=>{_sendOnlineHeartbeat()},1e3)}onmessage=(event=>{const type=event.data.type;switch(type){case"setupBroadcast":_setupBroadcastChannel(event.data.broadcastChannel,event.data.clientID);break;default:console.error("Live Preview page worker: received unknown event:",event)}});
//# sourceMappingURL=pageLoaderWorker.js.map
